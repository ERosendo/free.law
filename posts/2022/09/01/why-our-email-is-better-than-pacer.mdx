---
title: "Why Our Email System is Better than PACER's"
date: "2022-09-01"
tags:
 - "Email"
 - "AWS"
 - "@recap.email"
 - "Reliability Engineering"
author: "Michael Lissner"
excerpt: "In this post, we explain how we've designed our email system to be as robust and reliable as possible."
---

<p class="lead">Earlier this week, <a href="/2022/08/26/personal-recap-dot-email-addresses/">we announced personalized @recap.email addresses</a> for all our users. In the announcement, we noted that one reason to use @recap.email is that it can make it more likely you'll get a notification about a filing.
</p>

This technical post explains the huge technical investments we've made to set up the most reliable email delivery system possible, because it's a crisis when emails don't go through.

One way to send emails is to run an email server yourself. This means that you install some software on a computer (e.g. `postfix`), and when you want to send an email, you tell that software to send it for you. That software connects to recipient servers and hands off the email to them.

On the surface it's pretty simple, but the Internet has gotten complicated since the invention of email, and spammers have upped their game.

These days, if you want your emails to get to their destinations, there are a lot of things to think about. Among them:

1. To avoid spam filters, your server needs to check a number of boxes that prove it's legit. These include a mishmash of acronyms like SPF, DKIM, DMARC, and rDNS. Getting these right is hard.

2. Your server needs to have a good reputation. If you send lots of spam or even if you send emails to dead inboxes, your reputation gets damaged. The emails you send to good inboxes will start getting marked as spam too.

3. Your server needs to be up and needs to scale. If it crashes or can't keep up with traffic, well, the email won't go through.

4. The recipient server needs to be up. If it crashes, the email won't go through either. We can't control this, but we can handle it.

It's a lot to think about, but because legal notifications are so important, we've invested heavily in getting it right.


## How we make sure you get our emails

The core of our email system uses [AWS Simple Email Service (SES)][ses] to send emails. SES takes care of a lot of the issues above. It's scalable, reliable, and has settings to make sure you don't have issues with the mishmash of acronyms.

Using SES is a great way to send emails, but we take it further:

1. CourtListener resends failed emails. If we discover that your inbox is full, your server is offline, or has another issue, we use an exponential backoff algorithm to try again later.

    While we wait for your inbox to be fixed, we save any new emails we'd normally send to you. Once we detect that your inbox is fixed, we send you the emails you would have normally missed.

2. CourtListener alerts you via side channel if you have an issue. If we find that your email address is experiencing a temporary problem we pop up a huge banner in CourtListener letting you know that there is an issue with your inbox and we'll continue trying again. Once your inbox is fixed, we resend the things you missed (within reason).

    If we find that your email address no longer works, we also pop up the huge banner in CourtListener and strongly encourage you to update your email address to continue receiving emails.

3. We carefully monitor our bounce notifications, sometimes AWS Simple Email Service (SES) sends us permanent bounce notifications that indicate the email address we tried sending a message to is totally broken and we shouldn't continue sending messages to these inboxes. So then we flag these email addresses to avoid sending them new emails preventing CourtListener from getting marked as a spammer and keeping our sender's reputation healthy.


# And so this is why....

Wrap up the post here...


[ses]: https://aws.amazon.com/ses/